<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Step02_Form4.html</title>
	<link rel="stylesheet" href="css/bootstrap.css"/>
	<style>
		/* 페이지 로딩 시점에 피드백 아이콘하고 도움말은 보이지 않게 한다. */
		.form-control-feedback, .help-block{
			display: none;
		}
	</style>
</head>
<body>
<div class="container">
	<h1>폼 유효성 검증 예제</h1>
	<form action="">
		<div class="form-group has-feedback">
			<label class="control-label" for="id">아이디</label>
			<input type="text" id="id" class="form-control"/>
			<p class="help-block" id="msg1">아이디는 반드시 입력해야 합니다</p>
			<span class="glyphicon glyphicon-ok form-control-feedback"></span>
			<span class="glyphicon glyphicon-remove form-control-feedback"></span>
        </div>
        
		<button disabled="disabled" type="submit" class="btn btn-primary">등록</button>
	</form>
</div>
<script src="js/jquery-3.4.1.js"></script>
<script>
	// 아이디 입력란에 input 이벤트가 일어 났을때 실행할 함수 등록 
	$("#id").on("input", function(){
		//입력한 문자열을 읽어 온다.
		var inputId=$(this).val();

		//피드백 아이콘을 일단 안보이게 하고 
		$(this).parent().find(".form-control-feedback").hide();

		if(inputId == ""){//아무것도 입력하지 않았다면 
			$(this)
			.parent()
			.removeClass("has-success")
			.addClass("has-error")
			.find(".glyphicon-remove")
			.show();
			//에러 메세지 띄우기 
			$("#msg1").show();
			//버튼이 동작 가능하지 않게 하기 위해 disabled 속성 추가
			$("button[type=submit]").attr("disabled","disabled");
		}else{//한글자라도 입력 했다면 
			$(this)
			.parent()
			.removeClass("has-error")
			.addClass("has-success")
			.find(".glyphicon-ok")
			.show();
			//에러 메세지 숨기기 
			$("#msg1").hide();
			//버튼이 동작 가능하게 disabled 속성을 제거한다.
			$("button[type=submit]").removeAttr("disabled");
		}
	});
</script>	
</body>
</html>